<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Affine transformation</title><link rel="stylesheet" type="text/css" href="manual.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="OVITO User Manual"><link rel="up" href="particles.modifiers.html" title="Modifiers"><link rel="prev" href="particles.modifiers.bond_angle_analysis.html" title="Ackland-Jones analysis"><link rel="next" href="particles.modifiers.ambient_occlusion.html" title="Ambient occlusion"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><a href="https://www.ovito.org/"><img src="images/ovito_logo.png" border="0" width="84"></a><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="h" href="index.html">Table of Contents</a></td><th width="60%" align="center">Affine transformation</th><td width="20%" align="right"><a accesskey="u" href="particles.modifiers.html">Up</a></td></tr><tr><td width="20%" align="left"><a accesskey="p" href="particles.modifiers.bond_angle_analysis.html">Prev</a> </td><th width="60%" align="center">Modifiers</th><td width="20%" align="right"> <a accesskey="n" href="particles.modifiers.ambient_occlusion.html">Next</a></td></tr></table></div><div class="section" id="particles.modifiers.affine_transformation"><div class="titlepage"><div><div><h3 class="title">Affine transformation</h3></div></div></div>
  

  <p>
    </p><div class="informalfigure"><div class="screenshot"><div class="mediaobject"><img src="images/modifiers/affine_transformation_panel.png" width="270"></div></div></div><p>
    This modifier applies an affine transformation to the system. It may be used to translate, scale, rotate or shear
    the particles, the simulation cell and/or other elements. The transformation can either be specified explicitly in terms of a 3 x 3
    matrix plus a translation vector, or implicitly by prescribing a fixed target shape for the simulation cell.
  </p>

  <p>
    Given a 3 x 3 linear transformation matrix <span class="mathphrase"><span class="emphasis"><em>M</em></span></span>
    and a translation vector <span class="mathphrase"><span class="emphasis"><em>t</em></span></span>,
    which together describe a general affine transformation,
    the new position <span class="mathphrase"><span class="emphasis"><em>x'</em></span></span> of
    a particle at the original position <span class="mathphrase"><span class="emphasis"><em>x</em></span></span>
    is computed as
    <span class="mathphrase"><span class="emphasis"><em>x'</em></span> = <span class="emphasis"><em>M</em></span>&#8901;<span class="emphasis"><em>x</em></span> + <span class="emphasis"><em>t</em></span></span>.
    This notation uses column vectors.
  </p>

  <p>
    The <span class="guibutton">Enter rotation</span> button opens a dialog box letting you specify a rotation
    axis, a rotation angle and a center of rotation. Based on these inputs, OVITO will compute the corresponding
    affine transformation matrix for you.
  </p>

  <div class="simplesect" id="idp3054256"><div class="titlepage"><div><div><h4 class="title">Transform to target box</h4></div></div></div>
    
    <p>
      This option lets the modifier automatically compute the affine transformation from the current shape of the input simulation cell and the specified
      target shape. After application of the implicitly determined transformation, the existing simulation cell will be mapped the
      given target cell shape. The contents of the simulation cell (e.g. particles, surface meshes, etc.) will be mapped to the new
      cell shape accordingly, unless you turn off their transformation (see next section).
    </p>
    <p>
      Note that you can use this option to replace a varying simulation cell loaded from the input simulation file(s)
      with a static, non-varying simulation cell.
    </p>
  </div>

  <div class="simplesect" id="idp3056864"><div class="titlepage"><div><div><h4 class="title">Transformed elements</h4></div></div></div>
    
    <p>
      You can select the types of data elements that should be transformed by the modifier:
      </p><div class="informaltable">
        <table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col><col></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Data element type</th><th style="border-bottom: 1px solid ; ">Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><a class="link" href="scene_objects.particles.html" title="Particles">Particles</a></td><td style="border-bottom: 1px solid ; "><p>Applies the affine transformation to the coordinates of particles (i.e. the <code class="literal">Position</code> particle property).</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><a class="link" href="usage.particle_properties.html" title="Particle properties">Vector particle properties</a></td><td style="border-bottom: 1px solid ; "><p>Applies the linear part of the affine transformation to the <code class="literal">Velocity</code>, <code class="literal">Force</code>
                    and <code class="literal">Displacement</code> particle properties.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><a class="link" href="scene_objects.simulation_cell.html" title="Simulation cell">Simulation cell</a></td><td style="border-bottom: 1px solid ; "><p>Applies the affine transformation to the origin of the <a class="link" href="scene_objects.simulation_cell.html" title="Simulation cell">simulation cell</a> and the linear part of the transformation
                    to the three cell vectors.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><a class="link" href="scene_objects.surface_mesh.html" title="Surface meshes">Surfaces</a></td><td style="border-bottom: 1px solid ; "><p>Applies the affine transformation to the vertices of <a class="link" href="scene_objects.surface_mesh.html" title="Surface meshes">surface meshes</a>.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><a class="link" href="scene_objects.voxel_grid.html" title="Voxel grids">Voxel grids</a></td><td style="border-bottom: 1px solid ; "><p>Applies the affine transformation to the domain shape of a <a class="link" href="scene_objects.voxel_grid.html" title="Voxel grids">voxel grid</a>.</p></td></tr><tr><td style="border-right: 1px solid ; "><a class="link" href="scene_objects.dislocations.html" title="Dislocation lines">Dislocations</a></td><td style=""><p>Applies the affine transformation to a set of <a class="link" href="scene_objects.dislocations.html" title="Dislocation lines">dislocation lines</a>.</p></td></tr></tbody></table>
      </div><p>
    </p>
    <p>
      The option <span class="emphasis"><em>Transform selected elements only</em></span> restricts the application of the transformation to
      the currently selected particles.
    </p>
  </div>

  <div class="simplesect" id="idp3079216"><div class="titlepage"><div><div><h4 class="title">See also</h4></div></div></div>
  
    <p>
      <a class="pydoc-link" href="python/modules/ovito_modifiers.html#ovito.modifiers.AffineTransformationModifier" target="_top"><code class="classname">AffineTransformationModifier</code> (Python API)</a><a class="ovito-pro-tag" data-tooltip="This program feature is only available in the Pro edition of OVITO. Click to learn more." data-tooltip-position="bottom" href="https://www.ovito.org/about/ovito-pro/">
    pro
  </a>
    </p>
  </div>

</div><p class="footer_copyright">© 2021  OVITO GmbH</p><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="particles.modifiers.bond_angle_analysis.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="particles.modifiers.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="particles.modifiers.ambient_occlusion.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Ackland-Jones analysis </td><td width="20%" align="center"><a accesskey="h" href="index.html">Table of Contents</a></td><td width="40%" align="right" valign="top"> Ambient occlusion</td></tr></table></div></body></html>
