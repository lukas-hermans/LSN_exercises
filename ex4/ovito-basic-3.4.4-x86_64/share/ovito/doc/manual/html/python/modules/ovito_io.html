
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ovito.io &#8212; OVITO 3.4.4 documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/rtd.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="shortcut icon" href="../_static/ovito.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ovito.io.ase" href="ovito_io_ase.html" />
    <link rel="prev" title="ovito.data" href="ovito_data.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ovito_io_ase.html" title="ovito.io.ase"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ovito_data.html" title="ovito.data"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">OVITO 3.4.4 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="docutils literal notranslate"><span class="pre">ovito.io</span></code></a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-ovito.io">
<span id="ovito-io"></span><h1><code class="docutils literal notranslate"><span class="pre">ovito.io</span></code><a class="headerlink" href="#module-ovito.io" title="Permalink to this headline">¶</a></h1>
<p>This module primarily provides 
two high-level functions for reading and writing external data files:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#ovito.io.import_file" title="ovito.io.import_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">import_file()</span></code></a></p></li>
<li><p><a class="reference internal" href="#ovito.io.export_file" title="ovito.io.export_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">export_file()</span></code></a></p></li>
</ul>
</div></blockquote>
<dl class="py function">
<dt id="ovito.io.export_file">
<code class="sig-prename descclassname">ovito.io.</code><code class="sig-name descname">export_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">file</span></em>, <em class="sig-param"><span class="n">format</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ovito.io.export_file" title="Permalink to this definition">¶</a></dt>
<dd><p>High-level function that exports data to a file.
See the <a class="reference internal" href="../introduction/file_io.html#file-output-overview"><span class="std std-ref">Data export</span></a> section for an overview of this topic.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – The object to be exported. See below for options.</p></li>
<li><p><strong>file</strong> (<em>str</em>) – The output file path.</p></li>
<li><p><strong>format</strong> (<em>str</em>) – The type of file to write. See below for options.</p></li>
</ul>
</dd>
</dl>
<p><strong>Data to export</strong></p>
<p>Various kinds of objects are accepted by the function as <em>data</em> argument:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="ovito_pipeline.html#ovito.pipeline.Pipeline" title="ovito.pipeline.Pipeline"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></a>:
Exports the dynamically generated output of a data pipeline. Since pipelines can be evaluated at different animation times,
multi-frame sequences can be produced when passing a <a class="reference internal" href="ovito_pipeline.html#ovito.pipeline.Pipeline" title="ovito.pipeline.Pipeline"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></a> object to the <code class="xref py py-func docutils literal notranslate"><span class="pre">export_file()</span></code> function.</p></li>
<li><p><a class="reference internal" href="ovito_data.html#ovito.data.DataCollection" title="ovito.data.DataCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataCollection</span></code></a>:
Exports the static data of a data collection. Data objects contained in the collection that are not compatible
with the chosen output format are ignored.</p></li>
<li><p><a class="reference internal" href="ovito_data.html#ovito.data.DataObject" title="ovito.data.DataObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataObject</span></code></a>:
Exports just the data object as if it were the only part of a <a class="reference internal" href="ovito_data.html#ovito.data.DataCollection" title="ovito.data.DataCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataCollection</span></code></a>.
The provided data object must be compatible with the selected output format. For example, when exporting
to the <code class="docutils literal notranslate"><span class="pre">&quot;txt/table&quot;</span></code> format (see below), a <a class="reference internal" href="ovito_data.html#ovito.data.DataTable" title="ovito.data.DataTable"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataTable</span></code></a> object should be passed
to the <code class="xref py py-func docutils literal notranslate"><span class="pre">export_file()</span></code> function.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>:
All pipelines that are part of the current scene (see <a class="reference internal" href="ovito.html#ovito.Scene.pipelines" title="ovito.Scene.pipelines"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ovito.Scene.pipelines</span></code></a>) are
exported. This option makes sense for scene description formats such as the POV-Ray format.</p></li>
</ul>
</div></blockquote>
<p><strong>Output format</strong></p>
<p>The <em>format</em> parameter determines the type of file to write; the filename suffix is ignored.
However, for filenames that end with <code class="docutils literal notranslate"><span class="pre">.gz</span></code>, automatic gzip compression is activated if the selected format is text-based.
The following <em>format</em> strings are supported:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;txt/attr&quot;</span></code> – Export global attributes to a text file (see below)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;txt/table&quot;</span></code> – Export a <a class="reference internal" href="ovito_data.html#ovito.data.DataTable" title="ovito.data.DataTable"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataTable</span></code></a> to a text file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;lammps/dump&quot;</span></code> – LAMMPS text-based dump format</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;lammps/data&quot;</span></code> – LAMMPS data format</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;imd&quot;</span></code> – IMD format</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;vasp&quot;</span></code> – POSCAR format</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;xyz&quot;</span></code> – XYZ format</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;fhi-aims&quot;</span></code> – FHI-aims format</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;gsd/hoomd&quot;</span></code> – GSD format used by the HOOMD simulation code</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;netcdf/amber&quot;</span></code> – Binary format for MD data following the <a class="reference external" href="http://ambermd.org/netcdf/nctraj.pdf">AMBER format convention</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;vtk/trimesh&quot;</span></code> – ParaView VTK format for exporting <a class="reference internal" href="ovito_data.html#ovito.data.SurfaceMesh" title="ovito.data.SurfaceMesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">SurfaceMesh</span></code></a> objects</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;vtk/disloc&quot;</span></code> – ParaView VTK format for exporting <a class="reference internal" href="ovito_data.html#ovito.data.DislocationNetwork" title="ovito.data.DislocationNetwork"><code class="xref py py-class docutils literal notranslate"><span class="pre">DislocationNetwork</span></code></a> objects</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;vtk/grid&quot;</span></code> – ParaView VTK format for exporting <a class="reference internal" href="ovito_data.html#ovito.data.VoxelGrid" title="ovito.data.VoxelGrid"><code class="xref py py-class docutils literal notranslate"><span class="pre">VoxelGrid</span></code></a> objects</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;ca&quot;</span></code> – <a class="reference external" href="./../../particles.modifiers.dislocation_analysis.html#particles.modifiers.dislocation_analysis.fileformat">Text-based format for storing dislocation lines</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;povray&quot;</span></code> – POV-Ray scene format</p></li>
</ul>
</div></blockquote>
<p>Depending on the selected output format, additional keyword arguments must be passed to <code class="xref py py-func docutils literal notranslate"><span class="pre">export_file()</span></code>, which are documented below.</p>
<p><strong>File columns</strong></p>
<p>For the output formats <em>lammps/dump</em>, <em>xyz</em>, <em>imd</em> and <em>netcdf/amber</em>, you must specify the set of particle properties to export
using the <code class="docutils literal notranslate"><span class="pre">columns</span></code> keyword parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export_file</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="s2">&quot;output.xyz&quot;</span><span class="p">,</span> <span class="s2">&quot;xyz&quot;</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span>
  <span class="p">[</span><span class="s2">&quot;Particle Identifier&quot;</span><span class="p">,</span> <span class="s2">&quot;Particle Type&quot;</span><span class="p">,</span> <span class="s2">&quot;Position.X&quot;</span><span class="p">,</span> <span class="s2">&quot;Position.Y&quot;</span><span class="p">,</span> <span class="s2">&quot;Position.Z&quot;</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
<p>You can export the <a class="reference internal" href="ovito_data.html#particle-properties-list"><span class="std std-ref">standard particle properties</span></a> and any user-defined properties present
in the pipeline’s output <a class="reference internal" href="ovito_data.html#ovito.data.DataCollection" title="ovito.data.DataCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataCollection</span></code></a>.
For vector properties, the component name must be appended to the base name as
demonstrated above for the <code class="docutils literal notranslate"><span class="pre">Position</span></code> property.</p>
<p><strong>Exporting several simulation frames</strong></p>
<p>By default, only the current animation frame (frame 0 by default) is exported by the function.
To export a different frame, pass the <code class="docutils literal notranslate"><span class="pre">frame</span></code> keyword parameter to the <code class="xref py py-func docutils literal notranslate"><span class="pre">export_file()</span></code> function.
Alternatively, you can export all frames of an animation sequence at once by passing <code class="docutils literal notranslate"><span class="pre">multiple_frames=True</span></code>. Refined
control of the exported frame sequence is available through the keyword arguments <code class="docutils literal notranslate"><span class="pre">start_frame</span></code>, <code class="docutils literal notranslate"><span class="pre">end_frame</span></code>, and <code class="docutils literal notranslate"><span class="pre">every_nth_frame</span></code>.</p>
<p>The <em>lammps/dump</em> and <em>xyz</em> file formats can store multiple frames in a single output file. For other formats, or
if you intentionally want to generate one file per frame, you must pass a wildcard filename to <code class="xref py py-func docutils literal notranslate"><span class="pre">export_file()</span></code>.
This filename must contain exactly one <code class="docutils literal notranslate"><span class="pre">*</span></code> character as in the following example, which will be replaced with the
animation frame number:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export_file</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="s2">&quot;output.*.dump&quot;</span><span class="p">,</span> <span class="s2">&quot;lammps/dump&quot;</span><span class="p">,</span> <span class="n">multiple_frames</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>The above call is equivalent to the following <code class="docutils literal notranslate"><span class="pre">for</span></code>-loop:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">num_frames</span><span class="p">):</span>
    <span class="n">export_file</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="s2">&quot;output.</span><span class="si">%i</span><span class="s2">.dump&quot;</span> <span class="o">%</span> <span class="n">i</span><span class="p">,</span> <span class="s2">&quot;lammps/dump&quot;</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Floating-point number precision</strong></p>
<p>For text-based file formats, you can set the desired formatting precision for floating-point values using the
<code class="docutils literal notranslate"><span class="pre">precision</span></code> keyword parameter. The default output precision is 10 digits; the maximum is 17.</p>
<p><strong>LAMMPS atom style</strong></p>
<p>When writing files in the <em>lammps/data</em> format, the LAMMPS atom style “atomic” is used by default. If you want to create
a data file that uses a different atom style, specify it with the <code class="docutils literal notranslate"><span class="pre">atom_style</span></code> keyword parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export_file</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="s2">&quot;output.data&quot;</span><span class="p">,</span> <span class="s2">&quot;lammps/data&quot;</span><span class="p">,</span> <span class="n">atom_style</span><span class="o">=</span><span class="s2">&quot;bond&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The following <a class="reference external" href="https://lammps.sandia.gov/doc/atom_style.html">LAMMPS atom styles</a> are currently supported by OVITO:
<code class="docutils literal notranslate"><span class="pre">angle</span></code>, <code class="docutils literal notranslate"><span class="pre">atomic</span></code>, <code class="docutils literal notranslate"><span class="pre">bond</span></code>, <code class="docutils literal notranslate"><span class="pre">charge</span></code>, <code class="docutils literal notranslate"><span class="pre">dipole</span></code>, <code class="docutils literal notranslate"><span class="pre">full</span></code>, <code class="docutils literal notranslate"><span class="pre">molecular</span></code>, <code class="docutils literal notranslate"><span class="pre">sphere</span></code>.</p>
<p>If at least one <a class="reference internal" href="ovito_data.html#ovito.data.ParticleType" title="ovito.data.ParticleType"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParticleType</span></code></a> in the system has a non-zero <a class="reference internal" href="ovito_data.html#ovito.data.ParticleType.mass" title="ovito.data.ParticleType.mass"><code class="xref py py-attr docutils literal notranslate"><span class="pre">mass</span></code></a> set,
OVITO will output a <code class="docutils literal notranslate"><span class="pre">Masses</span></code> section to the LAMMPS data file. You can suppress this behavior by passing 
<code class="docutils literal notranslate"><span class="pre">omit_masses=True</span></code> to the export function.</p>
<p><strong>VASP (POSCAR) format</strong></p>
<p>When exporting to the <em>vasp</em> file format, OVITO will output atomic positions and velocities in Cartesian coordinates by default.
You can request output in reduced cell coordinates instead by specifying the <code class="docutils literal notranslate"><span class="pre">reduced</span></code> keyword parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export_file</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="s2">&quot;structure.poscar&quot;</span><span class="p">,</span> <span class="s2">&quot;vasp&quot;</span><span class="p">,</span> <span class="n">reduced</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Global attributes</strong></p>
<p>The <em>txt/attr</em> file format allows you to export global quantities computed by the data pipeline to a text file.
For example, to write out the number of FCC atoms identified by a <a class="reference internal" href="ovito_modifiers.html#ovito.modifiers.CommonNeighborAnalysisModifier" title="ovito.modifiers.CommonNeighborAnalysisModifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">CommonNeighborAnalysisModifier</span></code></a>
as a function of simulation time, one would use the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export_file</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="s2">&quot;data.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;txt/attr&quot;</span><span class="p">,</span>
    <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Timestep&quot;</span><span class="p">,</span> <span class="s2">&quot;CommonNeighborAnalysis.counts.FCC&quot;</span><span class="p">],</span>
    <span class="n">multiple_frames</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>See the documentation of the individual modifiers to find out which global quantities they
generate. You can also determine at runtime which <a class="reference internal" href="ovito_data.html#ovito.data.DataCollection.attributes" title="ovito.data.DataCollection.attributes"><code class="xref py py-attr docutils literal notranslate"><span class="pre">attributes</span></code></a> are available
in the output data collection of a <a class="reference internal" href="ovito_pipeline.html#ovito.pipeline.Pipeline" title="ovito.pipeline.Pipeline"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span><span class="o">.</span><span class="n">attributes</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="ovito.io.import_file">
<code class="sig-prename descclassname">ovito.io.</code><code class="sig-name descname">import_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">location</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ovito.io.import_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Imports data from an external file.</p>
<p>This Python function corresponds to the <em>Load File</em> menu command in OVITO’s
user interface. The format of the imported file is automatically detected (see <a class="reference external" href="./../../file_formats.input.html">list of supported formats</a>).
Depending on the file’s format, additional keyword parameters may be required
to specify how the data should be interpreted. These keyword parameters are documented below.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>location</strong> – The file to import. This can be a local file path or a remote <em>sftp://</em> or <em>https://</em> URL.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The new <a class="reference internal" href="ovito_pipeline.html#ovito.pipeline.Pipeline" title="ovito.pipeline.Pipeline"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></a> that has been created for the imported data.</p>
</dd>
</dl>
<p>The function creates and returns a new <a class="reference internal" href="ovito_pipeline.html#ovito.pipeline.Pipeline" title="ovito.pipeline.Pipeline"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></a> object, which uses the contents of the
external data file as input. The pipeline will be wired to a <a class="reference internal" href="ovito_pipeline.html#ovito.pipeline.FileSource" title="ovito.pipeline.FileSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileSource</span></code></a>, which
reads the input data from the external file and passes it on to the pipeline. You can access the
data by calling the <a class="reference internal" href="ovito_pipeline.html#ovito.pipeline.Pipeline.compute" title="ovito.pipeline.Pipeline.compute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pipeline.compute()</span></code></a> method or, alternatively,
<a class="reference internal" href="ovito_pipeline.html#ovito.pipeline.FileSource.compute" title="ovito.pipeline.FileSource.compute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FileSource.compute()</span></code></a> on the data <a class="reference internal" href="ovito_pipeline.html#ovito.pipeline.Pipeline.source" title="ovito.pipeline.Pipeline.source"><code class="xref py py-attr docutils literal notranslate"><span class="pre">source</span></code></a>.
As long as the new <a class="reference internal" href="ovito_pipeline.html#ovito.pipeline.Pipeline" title="ovito.pipeline.Pipeline"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></a> contains no modifiers yet, both methods will return the same data.</p>
<p>Note that the <a class="reference internal" href="ovito_pipeline.html#ovito.pipeline.Pipeline" title="ovito.pipeline.Pipeline"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></a> is not automatically inserted into the three-dimensional scene.
That means the loaded data won’t appear in rendered images or the interactive viewports of OVITO by default.
For that to happen, you need to explicitly insert the pipeline into the scene by calling its <a class="reference internal" href="ovito_pipeline.html#ovito.pipeline.Pipeline.add_to_scene" title="ovito.pipeline.Pipeline.add_to_scene"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_to_scene()</span></code></a> method if desired.</p>
<p>Furthermore, note that you can re-use the returned <a class="reference internal" href="ovito_pipeline.html#ovito.pipeline.Pipeline" title="ovito.pipeline.Pipeline"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></a> if you want to load a different
data file later on. Instead of calling <code class="xref py py-func docutils literal notranslate"><span class="pre">import_file()</span></code> again to load another file,
you can use the <a class="reference internal" href="ovito_pipeline.html#ovito.pipeline.FileSource.load" title="ovito.pipeline.FileSource.load"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pipeline.source.load(...)</span></code></a> method to replace the input file
of the already existing pipeline.</p>
<p><strong>File columns</strong></p>
<p>When importing simple-format XYZ files or legacy <em>binary</em> LAMMPS dump files, the mapping of file columns
to particle properties in OVITO must be specified using the <code class="docutils literal notranslate"><span class="pre">columns</span></code> keyword parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pipeline</span> <span class="o">=</span> <span class="n">import_file</span><span class="p">(</span><span class="s2">&quot;file.xyz&quot;</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span>
  <span class="p">[</span><span class="s2">&quot;Particle Identifier&quot;</span><span class="p">,</span> <span class="s2">&quot;Particle Type&quot;</span><span class="p">,</span> <span class="s2">&quot;Position.X&quot;</span><span class="p">,</span> <span class="s2">&quot;Position.Y&quot;</span><span class="p">,</span> <span class="s2">&quot;Position.Z&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>The number of column strings must match the actual number of data columns in the input file.
See this <a class="reference internal" href="ovito_data.html#particle-properties-list"><span class="std std-ref">table</span></a> for standard particle property names. Alternatively, you can specify
user-defined names for file colums that should be read as custom particle properties by OVITO.
For vector properties, the component name must be appended to the property’s base name as demonstrated for the <code class="docutils literal notranslate"><span class="pre">Position</span></code> property in the example above.
To ignore a file column during import, use <code class="docutils literal notranslate"><span class="pre">None</span></code> as entry in the <code class="docutils literal notranslate"><span class="pre">columns</span></code> list.</p>
<p>For LAMMPS dump files or extended-format XYZ files, OVITO automatically determines a reasonable column-to-property mapping, but you may override it using the
<code class="docutils literal notranslate"><span class="pre">columns</span></code> keyword. This can make sense, for example, if the file columns containing the particle coordinates
do not follow the standard naming scheme <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, and <code class="docutils literal notranslate"><span class="pre">z</span></code> (as is the case when importing time-averaged atomic positions computed by LAMMPS, for example).</p>
<p><strong>Frame sequences</strong></p>
<p>OVITO automatically detects if the imported file contains multiple data frames (timesteps).
Alternatively (and additionally), it is possible to load a sequence of files in the same directory by using the <code class="docutils literal notranslate"><span class="pre">*</span></code> wildcard character
in the filename. Note that <code class="docutils literal notranslate"><span class="pre">*</span></code> may appear only once, only in the filename component of the path, and only in place of numeric digits.
Furthermore, it is possible to pass an explicit list of file paths to the <code class="xref py py-func docutils literal notranslate"><span class="pre">import_file()</span></code> function, which will be loaded
as an animatable sequence. All variants can be combined. For example, to load two file sets from different directories as one
consecutive sequence:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">import_file</span><span class="p">(</span><span class="s1">&#39;sim.xyz&#39;</span><span class="p">)</span>     <span class="c1"># Loads all frames contained in the given file</span>
<span class="n">import_file</span><span class="p">(</span><span class="s1">&#39;sim.*.xyz&#39;</span><span class="p">)</span>   <span class="c1"># Loads &#39;sim.0.xyz&#39;, &#39;sim.100.xyz&#39;, &#39;sim.200.xyz&#39;, etc.</span>
<span class="n">import_file</span><span class="p">([</span><span class="s1">&#39;sim_a.xyz&#39;</span><span class="p">,</span> <span class="s1">&#39;sim_b.xyz&#39;</span><span class="p">])</span>  <span class="c1"># Loads an explicit list of snapshot files</span>
<span class="n">import_file</span><span class="p">([</span>
     <span class="s1">&#39;dir_a/sim.*.xyz&#39;</span><span class="p">,</span>
     <span class="s1">&#39;dir_b/sim.*.xyz&#39;</span><span class="p">])</span> <span class="c1"># Loads several file sequences from different directories</span>
</pre></div>
</div>
<p>The number of frames found in the input file(s) is reported by the <a class="reference internal" href="ovito_pipeline.html#ovito.pipeline.FileSource.num_frames" title="ovito.pipeline.FileSource.num_frames"><code class="xref py py-attr docutils literal notranslate"><span class="pre">num_frames</span></code></a> attribute of the pipeline’s <a class="reference internal" href="ovito_pipeline.html#ovito.pipeline.FileSource" title="ovito.pipeline.FileSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileSource</span></code></a>
You can step through the frames with a <code class="docutils literal notranslate"><span class="pre">for</span></code>-loop as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ovito.io</span> <span class="k">import</span> <span class="n">import_file</span>

<span class="c1"># Import a sequence of files.</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">import_file</span><span class="p">(</span><span class="s1">&#39;input/simulation.*.dump&#39;</span><span class="p">)</span>

<span class="c1"># Loop over all frames of the sequence.</span>
<span class="k">for</span> <span class="n">frame_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">num_frames</span><span class="p">):</span>    

    <span class="c1"># Calling FileSource.compute() loads the requested frame</span>
    <span class="c1"># from the sequence into memory and returns the data as a new</span>
    <span class="c1"># DataCollection:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="n">frame_index</span><span class="p">)</span>

    <span class="c1"># The source path and the index of the current frame</span>
    <span class="c1"># are attached as attributes to the data collection:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Frame source:&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">attributes</span><span class="p">[</span><span class="s1">&#39;SourceFile&#39;</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Frame index:&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">attributes</span><span class="p">[</span><span class="s1">&#39;SourceFrame&#39;</span><span class="p">])</span>
    
    <span class="c1"># Accessing the loaded frame data, e.g the particle positions:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">particles</span><span class="o">.</span><span class="n">positions</span><span class="p">[</span><span class="o">...</span><span class="p">])</span>
</pre></div>
</div>
<p><strong>LAMMPS atom style</strong></p>
<p>When loading a LAMMPS data file, the atom style may need to be specified using the <code class="docutils literal notranslate"><span class="pre">atom_style</span></code> keyword parameter so that
OVITO can correctly map the variable set of file columns to particle properties.
Exceptions are data files generated with the <code class="docutils literal notranslate"><span class="pre">write_data</span></code> command of LAMMPS that contain a hint indicating the atom style.
In this case the <code class="docutils literal notranslate"><span class="pre">atom_style</span></code> function parameter is not required.</p>
<p><strong>Particle ordering</strong></p>
<p>Particles are read and stored by OVITO in the same order as they are listed in the input file.
Some file formats contain unique particle identifiers or tags which allow OVITO to track individual particles
over time even if the storage order changes from frame to frame. OVITO will automatically make use of that
information where appropriate without touching the original storage order. However, in some situations it may be
desirable to explicitly have the particles sorted with respect to the IDs. You can request this
reordering by passing the <code class="docutils literal notranslate"><span class="pre">sort_particles=True</span></code> option to <code class="xref py py-func docutils literal notranslate"><span class="pre">import_file()</span></code>. Note that this option
is without effect if the input file contains no particle identifiers.</p>
<p><strong>Topology and trajectory files</strong></p>
<p>Some simulation codes write a <em>topology</em> file and separate <em>trajectory</em> file. The former contains only static information like the bonding
between atoms, the atom types, etc., which do not change during a simulation run, while the latter stores the varying data (primarily
the atomic trajectories). To load such a topology-trajectory pair of files, first read the topology file with
the <code class="xref py py-func docutils literal notranslate"><span class="pre">import_file()</span></code> function, then insert a <a class="reference internal" href="ovito_modifiers.html#ovito.modifiers.LoadTrajectoryModifier" title="ovito.modifiers.LoadTrajectoryModifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">LoadTrajectoryModifier</span></code></a> into the returned <a class="reference internal" href="ovito_pipeline.html#ovito.pipeline.Pipeline" title="ovito.pipeline.Pipeline"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></a>
to also load the trajectory data.</p>
</dd></dl>

</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../index.html">Table of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction/running.html">OVITO’s Python interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/overview.html">High-level overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/file_io.html">File I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/pipelines.html">Data pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/data_model.html">Data model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/data_manipulation.html">Manipulating data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/custom_modifiers.html">User-defined modifiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/rendering.html">Rendering &amp; visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/advanced_topics.html">Advanced topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/examples.html">Code examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/version_changes.html">OVITO 2.9 Migration Guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="ovito.html"><code class="docutils literal notranslate"><span class="pre">ovito</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="ovito_data.html"><code class="docutils literal notranslate"><span class="pre">ovito.data</span></code></a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">ovito.io</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="ovito_io_ase.html"><code class="docutils literal notranslate"><span class="pre">ovito.io.ase</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="ovito_modifiers.html"><code class="docutils literal notranslate"><span class="pre">ovito.modifiers</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="ovito_pipeline.html"><code class="docutils literal notranslate"><span class="pre">ovito.pipeline</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="ovito_vis.html"><code class="docutils literal notranslate"><span class="pre">ovito.vis</span></code></a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ovito_io_ase.html" title="ovito.io.ase"
             >next</a> |</li>
        <li class="right" >
          <a href="ovito_data.html" title="ovito.data"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">OVITO 3.4.4 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="docutils literal notranslate"><span class="pre">ovito.io</span></code></a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021 OVITO GmbH.
    </div>
  </body>
</html>