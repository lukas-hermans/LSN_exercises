
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Example B3: Creating particles and bonds programmatically &#8212; OVITO 3.4.4 documentation</title>
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/rtd.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="shortcut icon" href="../../../_static/ovito.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Example M1: Calculating mean square displacement" href="../modifiers/msd_calculation.html" />
    <link rel="prev" title="Example B2: Computing CNA bond indices" href="cna_bond_indices.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../modifiers/msd_calculation.html" title="Example M1: Calculating mean square displacement"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="cna_bond_indices.html" title="Example B2: Computing CNA bond indices"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">OVITO 3.4.4 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../examples.html" accesskey="U">Code examples</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Example B3: Creating particles and bonds programmatically</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="example-b3-creating-particles-and-bonds-programmatically">
<span id="example-creating-particles-programmatically"></span><h1>Example B3: Creating particles and bonds programmatically<a class="headerlink" href="#example-b3-creating-particles-and-bonds-programmatically" title="Permalink to this headline">¶</a></h1>
<p>The following script demonstrates the creation of particles, a simulation cell, and bonds on the fly
without loading them from an external simulation file. This approach can be used to implement custom data importers
or dynamically generate atomic structures within OVITO, which can then be further processed or exported to a file.</p>
<p>The script creates different data objects and adds them to a new <a class="reference internal" href="../../../modules/ovito_data.html#ovito.data.DataCollection" title="ovito.data.DataCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataCollection</span></code></a>.
Finally, a <a class="reference internal" href="../../../modules/ovito_pipeline.html#ovito.pipeline.Pipeline" title="ovito.pipeline.Pipeline"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></a> is created and a <a class="reference internal" href="../../../modules/ovito_pipeline.html#ovito.pipeline.StaticSource" title="ovito.pipeline.StaticSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">StaticSource</span></code></a> object is used
to make the <a class="reference internal" href="../../../modules/ovito_data.html#ovito.data.DataCollection" title="ovito.data.DataCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataCollection</span></code></a> its data source.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ovito.data</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">ovito.pipeline</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1"># Create the data collection containing a Particles object:</span>
<span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">DataCollection</span><span class="p">()</span>
<span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">particles</span><span class="p">)</span>

<span class="c1"># XYZ coordinates of the three atoms to create:</span>
<span class="n">pos</span> <span class="o">=</span> <span class="p">[(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">),</span>
       <span class="p">(</span><span class="mf">7.0</span><span class="p">,</span> <span class="mf">4.2</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">),</span>
       <span class="p">(</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">9.2</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">)]</span>

<span class="c1"># Create the particle position property:</span>
<span class="n">pos_prop</span> <span class="o">=</span> <span class="n">particles</span><span class="o">.</span><span class="n">create_property</span><span class="p">(</span><span class="s1">&#39;Position&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">pos</span><span class="p">)</span>

<span class="c1"># Create the particle type property and insert two atom types:</span>
<span class="n">type_prop</span> <span class="o">=</span> <span class="n">particles</span><span class="o">.</span><span class="n">create_property</span><span class="p">(</span><span class="s1">&#39;Particle Type&#39;</span><span class="p">)</span>
<span class="n">type_prop</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ParticleType</span><span class="p">(</span><span class="nb">id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Cu&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">)))</span>
<span class="n">type_prop</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ParticleType</span><span class="p">(</span><span class="nb">id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Ni&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">1.0</span><span class="p">)))</span>
<span class="n">type_prop</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># First atom is Cu</span>
<span class="n">type_prop</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># Second atom is Ni</span>
<span class="n">type_prop</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># Third atom is Ni</span>

<span class="c1"># Create a user-defined particle property with some data:</span>
<span class="n">my_data</span> <span class="o">=</span> <span class="p">[</span><span class="mf">3.141</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.2</span><span class="p">,</span> <span class="mf">0.23</span><span class="p">]</span>
<span class="n">my_prop</span> <span class="o">=</span> <span class="n">particles</span><span class="o">.</span><span class="n">create_property</span><span class="p">(</span><span class="s1">&#39;My property&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">my_data</span><span class="p">)</span>

<span class="c1"># Create the simulation box:</span>
<span class="n">cell</span> <span class="o">=</span> <span class="n">SimulationCell</span><span class="p">(</span><span class="n">pbc</span> <span class="o">=</span> <span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>
<span class="n">cell</span><span class="p">[</span><span class="o">...</span><span class="p">]</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
             <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
             <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">]]</span>
<span class="n">cell</span><span class="o">.</span><span class="n">vis</span><span class="o">.</span><span class="n">line_width</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cell</span><span class="p">)</span>

<span class="c1"># Create 3 bonds between particles:</span>
<span class="n">bond_topology</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]]</span>
<span class="n">particles</span><span class="o">.</span><span class="n">bonds</span> <span class="o">=</span> <span class="n">Bonds</span><span class="p">()</span>
<span class="n">particles</span><span class="o">.</span><span class="n">bonds</span><span class="o">.</span><span class="n">create_property</span><span class="p">(</span><span class="s1">&#39;Topology&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">bond_topology</span><span class="p">)</span>

<span class="c1"># Create a pipeline, set source and insert it into the scene:</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">source</span> <span class="o">=</span> <span class="n">StaticSource</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">))</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">add_to_scene</span><span class="p">()</span>
</pre></div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../../../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../running.html">OVITO’s Python interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">High-level overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../file_io.html">File I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pipelines.html">Data pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data_model.html">Data model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data_manipulation.html">Manipulating data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../custom_modifiers.html">User-defined modifiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rendering.html">Rendering &amp; visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced_topics.html">Advanced topics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../examples.html">Code examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../version_changes.html">OVITO 2.9 Migration Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/ovito.html"><code class="docutils literal notranslate"><span class="pre">ovito</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/ovito_data.html"><code class="docutils literal notranslate"><span class="pre">ovito.data</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/ovito_io.html"><code class="docutils literal notranslate"><span class="pre">ovito.io</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/ovito_io_ase.html"><code class="docutils literal notranslate"><span class="pre">ovito.io.ase</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/ovito_modifiers.html"><code class="docutils literal notranslate"><span class="pre">ovito.modifiers</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/ovito_pipeline.html"><code class="docutils literal notranslate"><span class="pre">ovito.pipeline</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/ovito_vis.html"><code class="docutils literal notranslate"><span class="pre">ovito.vis</span></code></a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../modifiers/msd_calculation.html" title="Example M1: Calculating mean square displacement"
             >next</a> |</li>
        <li class="right" >
          <a href="cna_bond_indices.html" title="Example B2: Computing CNA bond indices"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">OVITO 3.4.4 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../examples.html" >Code examples</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Example B3: Creating particles and bonds programmatically</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021 OVITO GmbH.
    </div>
  </body>
</html>