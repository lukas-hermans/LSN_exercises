<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Expression selection</title><link rel="stylesheet" type="text/css" href="manual.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="OVITO User Manual"><link rel="up" href="particles.modifiers.html" title="Modifiers"><link rel="prev" href="particles.modifiers.expand_selection.html" title="Expand selection"><link rel="next" href="particles.modifiers.freeze_property.html" title="Freeze property"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><a href="https://www.ovito.org/"><img src="images/ovito_logo.png" border="0" width="84"></a><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="h" href="index.html">Table of Contents</a></td><th width="60%" align="center">Expression selection</th><td width="20%" align="right"><a accesskey="u" href="particles.modifiers.html">Up</a></td></tr><tr><td width="20%" align="left"><a accesskey="p" href="particles.modifiers.expand_selection.html">Prev</a> </td><th width="60%" align="center">Modifiers</th><td width="20%" align="right"> <a accesskey="n" href="particles.modifiers.freeze_property.html">Next</a></td></tr></table></div><div class="section" id="particles.modifiers.expression_select"><div class="titlepage"><div><div><h3 class="title">Expression selection</h3></div></div></div>
  

  <p>

    </p><div class="informalfigure"><div class="screenshot"><div class="mediaobject"><img src="images/modifiers/expression_select_panel.png" width="270"></div></div></div><p>

    This modifier let you select particles or bonds based on user-defined criteria, i.e. by entering a Boolean expression,
    which is evaluated by the modifier for every particle/bond in the system.
    Those element for which the expression yields a non-zero value ("<span class="emphasis"><em>true</em></span>")
    will be selected; all other elements, for which the expression evaluates to zero ("<span class="emphasis"><em>false</em></span>"), are deselected.
  </p>
  <p>
    The Boolean expression can contain references to particle and bond properties as well as global quantities, e.g. the simulation cell size or the current timestep number.
    Hence, the modifier can be used to dynamically select elements based on properties such as position,
    type, energy, etc. and any combination thereof. The list of available
    input variables is displayed in the lower panel as shown in the screenshot.
  </p>
  <p>
    Boolean expressions can contain comparison operators like <code class="literal">==</code>, <code class="literal">!=</code>, <code class="literal">&gt;=</code>, etc.,
    and several conditions can be combined using logical AND and OR operators (<code class="literal">&amp;&amp;</code> and <code class="literal">||</code>).
  </p>
  <p>
    Note that variable names and function names are case-sensitive. Variable names are restricted to alphanumeric characters and
    underscores. OVITO automatically replaces invalid characters in property names with an underscore to generate valid variable names
    that can be referenced in the expression.
  </p>

  <div class="simplesect" id="idp4281008"><div class="titlepage"><div><div><h4 class="title">Expression syntax</h4></div></div></div>
    

    <p>
      The expression syntax supported by the modifier is very
      similar to the C programming language. Arithmetic expressions can be created from
      float literals, variables or functions using the following operators
      in this order of precedence:
    </p><div class="informaltable">
    <table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col><col></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Operator</th><th style="border-bottom: 1px solid ; ">Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">(...)</td><td style="border-bottom: 1px solid ; ">expressions in parentheses are evaluated first</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">A^B</td><td style="border-bottom: 1px solid ; ">exponentiation (A raised to the power B)</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">A*B, A/B</td><td style="border-bottom: 1px solid ; ">multiplication and division</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">A+B, A-B</td><td style="border-bottom: 1px solid ; ">addition and subtraction</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">A==B, A!=B, A&lt;B, A&lt;=B, A&gt;B, A&gt;=B</td><td style="border-bottom: 1px solid ; ">comparison between A and B (result is either 0 or
            1)</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">A &amp;&amp; B</td><td style="border-bottom: 1px solid ; ">logical AND operator: result is 1 if A and B differ from
            0, else 0</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">A || B</td><td style="border-bottom: 1px solid ; ">logical OR operator: result is 1 if A or B differ from
            0, else 0</td></tr><tr><td style="border-right: 1px solid ; ">A ? B : C</td><td style="">If A differs from 0 (i.e. is true), the resulting value of this expression
            is B, else C.</td></tr></tbody></table>
      </div>

    <p>The expression parser supports the following functions:
    </p><div class="informaltable">
    <table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col><col></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Function name</th><th style="border-bottom: 1px solid ; ">Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">abs(A)</td><td style="border-bottom: 1px solid ; ">Absolute value of A. If A is negative, returns -A
            otherwise returns A.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">acos(A)</td><td style="border-bottom: 1px solid ; ">Arc-cosine of A. Returns the angle, measured in radians,
            whose cosine is A.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">acosh(A)</td><td style="border-bottom: 1px solid ; ">Same as acos() but for hyperbolic cosine.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">asin(A)</td><td style="border-bottom: 1px solid ; ">Arc-sine of A. Returns the angle, measured in radians,
            whose sine is A.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">asinh(A)</td><td style="border-bottom: 1px solid ; ">Same as asin() but for hyperbolic sine.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">atan(A)</td><td style="border-bottom: 1px solid ; ">Arc-tangent of A. Returns the angle, measured in
            radians, whose tangent is A.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">atan2(Y,X)</td><td style="border-bottom: 1px solid ; ">Two argument variant of the arctangent function. Returns
            the angle, measured in radians. This function is documented
            <a class="ulink" href="http://en.wikipedia.org/wiki/Atan2" target="_top">here</a>.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">atanh(A)</td><td style="border-bottom: 1px solid ; ">Same as atan() but for hyperbolic tangent.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">avg(A,B,...)</td><td style="border-bottom: 1px solid ; ">Returns the average of all arguments.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">cos(A)</td><td style="border-bottom: 1px solid ; ">Cosine of A. Returns the cosine of the angle A, where A
            is measured in radians.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">cosh(A)</td><td style="border-bottom: 1px solid ; ">Same as cos() but for hyperbolic cosine.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">exp(A)</td><td style="border-bottom: 1px solid ; ">Exponential of A. Returns the value of e raised to the
            power A where e is the base of the natural logarithm, i.e.
            the non-repeating value approximately equal to
            2.71828182846.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">fmod(A,B)</td><td style="border-bottom: 1px solid ; ">Returns the floating-point remainder of A/B (rounded towards zero).</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">rint(A)</td><td style="border-bottom: 1px solid ; ">Rounds A to the closest integer. 0.5 is rounded to
            1.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">ln(A)</td><td style="border-bottom: 1px solid ; ">Natural (base e) logarithm of A.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">log10(A)</td><td style="border-bottom: 1px solid ; ">Base 10 logarithm of A.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">log2(A)</td><td style="border-bottom: 1px solid ; ">Base 2 logarithm of A.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">max(A,B,...)</td><td style="border-bottom: 1px solid ; ">Returns the maximum of all values.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">min(A,B,...)</td><td style="border-bottom: 1px solid ; ">Returns the minimum of all values.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">sign(A)</td><td style="border-bottom: 1px solid ; ">Returns: 1 if A is positive; -1 if A is negative; 0 if A is zero.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">sin(A)</td><td style="border-bottom: 1px solid ; ">Sine of A. Returns the sine of the angle A, where A is
            measured in radians.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">sinh(A)</td><td style="border-bottom: 1px solid ; ">Same as sin() but for hyperbolic sine.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">sqrt(A)</td><td style="border-bottom: 1px solid ; ">Square root of a value.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">sum(A,B,...)</td><td style="border-bottom: 1px solid ; ">Returns the sum of all parameter values.</td></tr><tr><td style="border-right: 1px solid ; ">tan(A)</td><td style="">Tangent of A. Returns the tangent of the angle A, where
            A is measured in radians.</td></tr></tbody></table>
      </div><p>
      </p>
      <p> </p>
  </div>

  <div class="simplesect" id="idp4336272"><div class="titlepage"><div><div><h4 class="title">Usage examples</h4></div></div></div>
    

    <p>The first expression below will select all particles of numeric type 1 or 2, similar to what the <a class="link" href="particles.modifiers.select_particle_type.html" title="Select type">Select Type</a> modifier
    does. The second expression will select particles within a cylindrical region of radius 10:</p>

    <pre class="programlisting">ParticleType==1 || ParticleType==2

sqrt(Position.X*Position.X + Position.Y*Position.Y) &lt; 10.0</pre>
  </div>

  <div class="simplesect" id="idp4337408"><div class="titlepage"><div><div><h4 class="title">See also</h4></div></div></div>
    
    <p>
      <a class="pydoc-link" href="python/modules/ovito_modifiers.html#ovito.modifiers.ExpressionSelectionModifier" target="_top"><code class="classname">ExpressionSelectionModifier</code> (Python API)</a><a class="ovito-pro-tag" data-tooltip="This program feature is only available in the Pro edition of OVITO. Click to learn more." data-tooltip-position="bottom" href="https://www.ovito.org/about/ovito-pro/">
    pro
  </a>
    </p>
  </div>

</div><p class="footer_copyright">© 2021  OVITO GmbH</p><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="particles.modifiers.expand_selection.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="particles.modifiers.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="particles.modifiers.freeze_property.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Expand selection </td><td width="20%" align="center"><a accesskey="h" href="index.html">Table of Contents</a></td><td width="40%" align="right" valign="top"> Freeze property</td></tr></table></div></body></html>
